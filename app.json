{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "nl.jwienk.utils",
  "version": "1.0.0",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "name": {
    "en": "Utils",
    "nl": "Gereedschap"
  },
  "description": {
    "en": "Utils",
    "nl": "Gereedschap"
  },
  "brandColor": "#00B0FF",
  "category": [
    "tools"
  ],
  "permissions": [
    "homey:manager:api"
  ],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Jeroen Wienk",
    "email": "jeroenwienk@gmail.com"
  },
  "flow": {
    "triggers": [
      {
        "id": "trigger_timer_end",
        "title": {
          "en": "Timer is finished...",
          "nl": "Timer is afgelopen..."
        },
        "titleFormatted": {
          "en": "Timer is finished",
          "nl": "Timer is afgelopen"
        },
        "hint": {
          "en": "Fires when the timer has finished.",
          "nl": "Activeert wanneer de timer afgelopen is."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "condition_timer_running",
        "title": {
          "en": "Timer !{{is|isn't}} running...",
          "nl": "Timer loopt !{{|niet}}..."
        },
        "titleFormatted": {
          "en": "Timer !{{is|isn't}} running",
          "nl": "Timer loopt !{{|niet}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          }
        ]
      },
      {
        "id": "condition_timer_paused",
        "title": {
          "en": "Timer !{{is|isn't}} paused...",
          "nl": "Timer !{{is|is niet}} gepauzeerd..."
        },
        "titleFormatted": {
          "en": "Timer !{{is|isn't}} paused",
          "nl": "Timer !{{is|is niet}} gepauzeerd"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "action_timer_start",
        "title": {
          "en": "Start timer with duration...",
          "nl": "Start timer met duur..."
        },
        "titleFormatted": {
          "en": "Start timer with duration [[timer_duration]]",
          "nl": "Start timer met duur [[timer_duration]]"
        },
        "hint": {
          "en": "Start a timer with a duration in milliseconds. If the timer is already running or paused it is replaced.",
          "nl": "Start een timer met een duur in milliseconden. Als de timer al loopt of gepauzeerd is wordt deze vervangen."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          },
          {
            "type": "number",
            "name": "timer_duration",
            "title": {
              "en": "Duration",
              "nl": "Duur"
            },
            "placeholder": {
              "en": "in milliseconds",
              "nl": "in milliseconden"
            }
          }
        ]
      },
      {
        "id": "action_timer_stop",
        "title": {
          "en": "Stop timer...",
          "nl": "Stop timer..."
        },
        "titleFormatted": {
          "en": "Stop timer",
          "nl": "Stop timer"
        },
        "hint": {
          "en": "Stop a running or paused timer.",
          "nl": "Stop een lopende of gepauzeerde timer."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          }
        ]
      },
      {
        "id": "action_timer_pause",
        "title": {
          "en": "Pause timer...",
          "nl": "Pauzeer timer..."
        },
        "titleFormatted": {
          "en": "Pause timer",
          "nl": "Pauzeer timer"
        },
        "hint": {
          "en": "Pause a running timer.",
          "nl": "Pauzeer een lopende timer."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          }
        ]
      },
      {
        "id": "action_timer_resume",
        "title": {
          "en": "Resume timer...",
          "nl": "Hervat timer..."
        },
        "titleFormatted": {
          "en": "Resume timer",
          "nl": "Hervat timer"
        },
        "hint": {
          "en": "Resume a paused timer.",
          "nl": "Hervat een gepauseerde timer."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=timer"
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "id": "timer",
      "name": {
        "en": "Timer",
        "nl": "Timer"
      },
      "class": "other",
      "capabilities": [
        "timer_duration",
        "timer_state"
      ],
      "capabilitiesOptions": {
        "timer_duration": {
          "preventTag": true
        }
      },
      "energy": {},
      "images": {
        "large": "/drivers/timer/assets/images/large.png",
        "small": "/drivers/timer/assets/images/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices"
          },
          "options": {
            "singular": true
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "General settings"
          },
          "children": [
            {
              "id": "duration_update_interval",
              "type": "number",
              "label": {
                "en": "Duration update interval",
                "nl": "Duur update interval"
              },
              "hint": {
                "en": "Interval duration for updating the duration capability.",
                "nl": "Interval duur voor het updaten van de duur capability."
              },
              "value": 1000,
              "min": 100,
              "max": 60000,
              "units": {
                "en": "ms",
                "nl": "ms"
              }
            }
          ]
        }
      ]
    }
  ],
  "capabilities": {
    "timer_duration": {
      "type": "number",
      "title": {
        "en": "Duration",
        "nl": "Duur"
      },
      "getable": true,
      "setable": false,
      "units": "ms",
      "uiComponent": "sensor",
      "uiQuickAction": false,
      "icon": "/assets/timer_duration.svg",
      "insights": false
    },
    "timer_state": {
      "type": "enum",
      "title": {
        "en": "State",
        "nl": "Staat"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": false,
      "icon": "/assets/timer_state.svg",
      "insights": false,
      "values": [
        {
          "id": "idle",
          "title": {
            "en": "Idle",
            "nl": "Inactief"
          }
        },
        {
          "id": "running",
          "title": {
            "en": "Running",
            "nl": "Loopt"
          }
        },
        {
          "id": "paused",
          "title": {
            "en": "Paused",
            "nl": "Gepauzeerd"
          }
        }
      ]
    }
  }
}